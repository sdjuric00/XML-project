<div *ngIf="znakFormGroup" class="znak-container">
    <h2>Informacije o znaku</h2>

    <div class="pismo-container">
        <h4>Izaberite pismo</h4>
        <mat-radio-button [value]="'Cirilicno'" [checked]="cirilica" (click)="changePismoToCirilicno()"
            style="margin-right: 1rem">
            Ćirilica
        </mat-radio-button>
        <mat-radio-button [value]="'Latinicno'" [checked]="latinica" (click)="changePismoToLatinicno()">
            Latinica
        </mat-radio-button>
        <mat-radio-button [value]="'Ostalo'" [checked]="ostalo" (click)="changePismoToOstalo()">
            Ostalo
        </mat-radio-button>
    </div>

    <div [formGroup]="znakFormGroup" style="padding-left:8.5rem">

        <div *ngIf="ostalo" style="display: flex;">
            <mat-form-field appearance="fill" class="input-field">
                <mat-label>Pismo</mat-label>
                <input matInput placeholder="Pismo" formControlName="pismo">
                <mat-error *ngIf="znakFormGroup.get('pismo')?.hasError('required')">
                    Pismo je <strong>obavezno</strong> polje
                </mat-error>
                <mat-error *ngIf="znakFormGroup.get('pismo')?.hasError('pattern')">
                    Pismo je <strong>predugacko</strong>
                </mat-error>
            </mat-form-field>
    
            <mat-form-field appearance="fill" class="input-field">
                <mat-label>Transliteracija</mat-label>
                <input matInput placeholder="Transliteracija" formControlName="transliteracijaZnaka">
                <mat-error *ngIf="znakFormGroup.get('transliteracijaZnaka')?.hasError('required')">
                    Transliteracija je <strong>obavezno</strong> polje
                </mat-error>
            </mat-form-field>
    
            <mat-form-field appearance="fill" class="input-field">
                <mat-label>Prevod</mat-label>
                <input matInput placeholder="Prevod" formControlName="prevod">
                <mat-error *ngIf="znakFormGroup.get('prevod')?.hasError('required')">
                    Prevod je <strong>obavezno</strong> polje
                </mat-error>
            </mat-form-field>
        </div>

        <div style="display: flex;">

            <mat-form-field class="input-field" appearance="fill">
                <mat-label>Vrsta znaka</mat-label>
                <input type="text" placeholder="Vrsta znaka" aria-label="Number" matInput formControlName="vrstaZnaka"
                    [matAutocomplete]="auto">
                <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let znak of vrsteZnaka" [value]="znak">
                        {{znak}}
                    </mat-option>
                </mat-autocomplete>
                <mat-error *ngIf="znakFormGroup.get('vrstaZnaka')?.hasError('required')">
                    Vrsta znaka je <strong>obavezna</strong>
                </mat-error>
                <mat-error *ngIf="znakFormGroup.get('vrstaZnaka')?.hasError('pattern')">
                    Vrsta znaka je <strong>predugacka</strong>
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="input-field">
                <mat-label>Opis</mat-label>
                <input matInput placeholder="Opis" formControlName="opis">
                <mat-error *ngIf="znakFormGroup.get('opis')?.hasError('required')">
                    Opis je <strong>obavezno</strong> polje
                </mat-error>
                <mat-error *ngIf="znakFormGroup.get('opis')?.hasError('pattern')">
                    Opis je <strong>predugacak</strong>
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="fill" class="input-field">
                <mat-label>Ničanska klasifikacija</mat-label>
                <mat-select formControlName="nicanskaKlasifikacija">
                    <mat-option *ngFor="let klasifikacija of klasifikacije" [value]="klasifikacija">
                        {{klasifikacija}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="znakFormGroup.get('nicanskaKlasifikacija')?.hasError('required')">
                    Klasifikacija je <strong>obavezno</strong> polje
                </mat-error>
            </mat-form-field>

        </div>
        
        <div style="display: flex;">
            <mat-form-field appearance="fill" class="input-field" style="margin-top: 1rem;">
                <mat-label>Tip ziga</mat-label>
                <mat-select formControlName="tipZig">
                    <mat-option *ngFor="let tip of tipoviZiga" [value]="tip">
                        {{tip}}
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="znakFormGroup.get('tipZig')?.hasError('required')">
                    Tip ziga je <strong>obavezno</strong> polje
                </mat-error>
            </mat-form-field>

            <div class="load-image">
                <button type="button" mat-raised-button (click)="fileInput.click()">Dodaj znak<mat-icon>link</mat-icon></button>
                <input hidden (change)="onFileSelected($event)" #fileInput type="file">
                <span class="file-name">{{selectedImage?.name}}</span>
            </div>

        </div>

        <div style="display:flex;">
            <mat-expansion-panel class="boje-ext-panel">
                <mat-expansion-panel-header>
                    <mat-panel-title> Dodaj boje </mat-panel-title>
                </mat-expansion-panel-header>
                <mat-chip-list class="boje-chips">
                    <mat-chip *ngFor="let boja of boje">
                        {{ boja }}
                        <button matChipRemove>
                            <mat-icon (click)="izbrisiBoju(boja)">cancel</mat-icon>
                        </button>
                    </mat-chip>
                </mat-chip-list>
                <br />
                <mat-form-field appearance="fill" class="input-field">
                    <mat-label>Boja</mat-label>
                    <input #bojeInput matInput placeholder="Dodaj boju" (keyup.enter)="dodajBoju(bojeInput.value)">
                    <mat-error *ngIf="znakFormGroup.get('boje')?.hasError('required')">
                        Boje su <strong>obavezno</strong> polje
                    </mat-error>
                </mat-form-field>
            </mat-expansion-panel>
        </div>

    </div>

    <div class="buttons">
        <button style="margin-left:40.7rem" class="previous-button" mat-raised-button matStepperPrevious>Nazad</button>
        <!--    [disabled]="punomocnikFormGroup.invalid"-->
        <button style="margin-left:1rem" class="next-button" mat-raised-button matStepperNext [disabled]="checkIfFormNotValid()">Dalje</button>
    </div>
</div>

